<html>
<div id='test'> 
{{ user }}
<table border='1px'>
<thead>
<tr><th>Name</th><th>Mobile</th><th>Email</th><th>Option</th></tr>
</thead>
<tbody>
<!--{% if user %}
<tr><td><input id='name' value= {{ user.name}}></td><td><input id='age' value ={{ user.age}}></td><td><input  name='update-btn' type='button' data-id= {{ user.id }}  value='update'></td>
{% endif %}--><!--tbody在ajax中进行html元素赋值-->
</tbody>
</table>
</div>
<script src='/static/js/jquery-3.1.0.min.js'></script>
<script>
 var url = "/user/userinfo" 
$.getJSON(url,function(data){
        console.log(data)//{'code':0,'result':{'age': 18, 'id': 1, 'name': 'test'}

        if (data['code'] == 0){
                var str = ""
                data = data['result'] 
                str = "<tr>"+ 
                        '<td>' +  data['name'] + '</td>' +
                        '<td>' + data['mobile'] + '</td>' +   
			'<td>' + data['email'] + '</td>' +
                        '<td>' + '<a href="/user/update?id=' + data['id']+ '" class="btn btn-xs btn-info">更新</a>'+'</td>' + "</tr>" 
                console.log(str)                         
                $('tbody').html(str)           //赋值给tbody            
        }else {
                $('#errmsg').html("fail")                  
        }
})

</script>
</html>
